---
description: Как работать с переменными
---

# Переменные

Для начала определим что такое Переменные Javascript.

Переменные, это грубо говоря коробки которые хранят какое то значение. При этом сами переменные существуют вне объекта и для доступа к ним нам нужно просто написать название переменной. В качестве примера у нас есть переменные `m1`, `m2`, `t1`, `t2`, то есть [Параметры Мониторинга](peremennye.md) у роботов это переменные константы (const), так как в них нечего нельзя записывать.

{% hint style="danger" %}
**ВАЖНО:** Все переменные **очищаются после заверщения работы сервиса**. А также они **не видны в других сервисах**. По этому, если вам нужно хранить какие то данные, без потери их при следующем запуске сервиса, то используйте Properties - [#rabota-s-properties](../code/property-i-parametry.md#rabota-s-properties "mention")
{% endhint %}

Переменные делятся на 2 вида: `let`, `const`

## Переменные "let"

Особенность данных переменных в том, что они доступны только на том уровне, на котором вы их создали и выше. Приведу пример с коментариями чтоб стало понятно:

```javascript
// Эта переменная создана вне любых блоков (блок это фигурные скобки если что)
// По этому её можно использовать в любом месте.
// НО её нельзя использовать в других сервисах, 
// и нельзя использовать её до того, как мы её создадим через let 
// (например если бы переменная объявлялась в самом низу кода)
let param1 = 1; 
// К слову значение не объязательно устанавливать при создании переменной, 
// Значение можно задать потом.

// Функция не имеет смысла, она написана только для примера
function sumNumbers() {
    // functionNumber доступен только в функции, и всем кто внутри.
    let functionNumber = 5;
    
    if (param1 > functionNumber) {
        param1 -= functionNumber;  // То есть тут functionNumber можно использовать
    } else {
        param1 += functionNumber;
    }
}

// А тут уже functionNumber нельзя использовать

sumNumbers();

functionNumber += 5;
// ОШИБКА
// ReferenceError: functionNumber is not defined
```

То есть то, что мы создаём внутри функции, не будет действовать вне функции. При этом, то что мы создадим вне функции, будет действовать внутри функции.&#x20;

Тоже самое действует со всеми конструкциями где присутствуют фигурные скобки.

## Переменные "const"

Чтобы объявить константную, то есть, неизменяемую переменную, используйте `const` вместо `let`:

```javascript
const data = '18.04.1982';
```

Переменные, объявленные с помощью `const`, называются «константами». Их нельзя изменить. Попытка сделать это приведёт к ошибке:

```javascript
const data = '18.04.1982';

data = '01.01.2001'; // ошибка, константу нельзя перезаписать!
```

Если программист уверен, что переменная никогда не будет меняться, он может гарантировать это и наглядно донести до каждого, объявив её через `const`.

## Имена переменных

В JavaScript есть два ограничения, касающиеся имён переменных:

1. Имя переменной должно содержать только буквы, цифры или символы `$` и `_`.
2. Первый символ не должен быть цифрой.

Примеры допустимых имён:

```javascript
let userName;
let test123;
```

Если имя содержит несколько слов, обычно используется [верблюжья нотация](https://ru.wikipedia.org/wiki/CamelCase), то есть, слова следуют одно за другим, где каждое следующее слово начинается с заглавной буквы: `myVeryLongName`.

Самое интересное – знак доллара `'$'` и подчёркивание `'_'` также можно использовать в названиях. Это обычные символы, как и буквы, без какого-либо особого значения.

Эти имена являются допустимыми:

```javascript
let $ = 1; // объявили переменную с именем "$"
let _ = 2; // а теперь переменную с именем "_"

alert($ + _); // 3
```

Примеры неправильных имён переменных:

```javascript
let 1a; // не может начинаться с цифры

let my-name; // дефис '-' не разрешён в имени
```

{% hint style="info" %}
**Регистр имеет значение**

Переменные с именами `apple` и `APPLE` – это две разные переменные.
{% endhint %}

{% hint style="info" %}
**Нелатинские буквы разрешены, но не рекомендуются**

Можно использовать любой язык, включая кириллицу или даже иероглифы, например:

{% code lineNumbers="true" %}
```javascript
let имя = '...';
let 我 = '...';
```
{% endcode %}

Технически здесь нет ошибки, такие имена разрешены, но есть международная традиция использовать английский язык в именах переменных. Даже если мы пишем небольшой скрипт, у него может быть долгая жизнь впереди. Людям из других стран, возможно, придётся прочесть его не один раз.
{% endhint %}

{% hint style="warning" %}
**Зарезервированные имена**

Существует [список зарезервированных слов](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Lexical\_grammar#%D0%BA%D0%BB%D1%8E%D1%87%D0%B5%D0%B2%D1%8B%D0%B5\_%D1%81%D0%BB%D0%BE%D0%B2%D0%B0), которые нельзя использовать в качестве имён переменных, потому что они используются самим языком.

Например: `let`, `class`, `return` и `function` зарезервированы.

Приведённый ниже код даёт синтаксическую ошибку:

{% code lineNumbers="true" %}
```javascript
let let = 5; // нельзя назвать переменную "let", ошибка!
let return = 5; // также нельзя назвать переменную "return", ошибка!
```
{% endcode %}
{% endhint %}

## Константы в верхнем регистре

Широко распространена практика использования констант в качестве псевдонимов для трудно запоминаемых значений, которые известны до начала исполнения скрипта.

Названия таких констант пишутся с использованием заглавных букв и подчёркивания.

Например, сделаем константы для различных цветов в «шестнадцатеричном формате»:

```javascript
const COLOR_RED = "#F00";
const COLOR_GREEN = "#0F0";
const COLOR_BLUE = "#00F";
const COLOR_ORANGE = "#FF7F00";

// ...когда нам нужно выбрать цвет
me.color = COLOR_ORANGE;  // #FF7F00
```

Преимущества:

* `COLOR_ORANGE` гораздо легче запомнить, чем `"#FF7F00"`.
* Гораздо легче допустить ошибку при вводе `"#FF7F00"`, чем при вводе `COLOR_ORANGE`.
* При чтении кода `COLOR_ORANGE` намного понятнее, чем `#FF7F00`.

Когда мы должны использовать для констант заглавные буквы, а когда называть их нормально? Давайте разберёмся и с этим.

Название «константа» просто означает, что значение переменной никогда не меняется. Но есть константы, которые известны до выполнения (например, шестнадцатеричное значение для красного цвета), а есть константы, которые _вычисляются_ во время выполнения сценария, но не изменяются после их первоначального назначения.

Например:

```javascript
const robotWorkTime = /* время, потраченное на выполнение роботом команды */;
```

Значение `robotWorkTime` неизвестно до окончания работы робота, поэтому её имя записано обычными, а не прописными буквами. Но это всё ещё константа, потому что она не изменяется после назначения.

Другими словами, константы с именами, записанными заглавными буквами, используются только как псевдонимы для «жёстко закодированных» значений.

## Придумывайте правильные имена

В разговоре о переменных необходимо упомянуть, что есть ещё одна чрезвычайно важная вещь.

<mark style="color:yellow;">**Название переменной должно иметь ясный и понятный смысл, говорить о том, какие данные в ней хранятся.**</mark>

Именование переменных – это один из самых **важных и сложных навыков** в программировании. Быстрый взгляд на имена переменных может показать, какой код был написан новичком, а какой – опытным разработчиком.

В реальном проекте большая часть времени тратится на изменение и расширение существующей кодовой базы, а не на написание чего-то совершенно нового с нуля. Когда мы возвращаемся к коду после какого-то промежутка времени, гораздо легче найти информацию, которая хорошо размечена. Или, другими словами, когда переменные имеют хорошие имена.

Пожалуйста, потратьте время на обдумывание правильного имени переменной перед её объявлением. Делайте так, и будете вознаграждены.

<mark style="color:yellow;">**Несколько хороших правил:**</mark>

* Используйте легко читаемые имена, такие как `userName` или `shoppingCart`.
* Избегайте использования аббревиатур или коротких имён, таких как `a`, `b`, `c`, за исключением тех случаев, когда вы точно знаете, что так нужно.
* Делайте имена максимально описательными и лаконичными. Примеры плохих имён: `data` и `value`. Такие имена ничего не говорят. Их можно использовать только в том случае, если из контекста кода очевидно, какие данные хранит переменная.
* Договоритесь с вашей командой об используемых терминах. Если посетитель сайта называется «user», тогда мы должны называть связанные с ним переменные `currentUser` или `newUser`, а не, к примеру, `currentVisitor` или `newManInTown`.

Звучит просто? Действительно, это так, но на практике для создания описательных и кратких имён переменных зачастую требуется подумать. Действуйте.
