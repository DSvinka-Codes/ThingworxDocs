---
description: Если, Иначе
---

# Условия: "if", "else", "?"

## Инструкция "if"

Инструкция `if (...)` вычисляет условие в скобках и, если результат `true`, то выполняет блок кода.

Например:

```javascript
if (t1 >= 90)
  me.warningHotTemp = true;
```

В примере выше, условие – это простая проверка на равенство (`t1 >= 90`), но оно может быть и гораздо более сложным.

Если мы хотим выполнить более одной инструкции, то нужно заключить блок кода в фигурные скобки:

```javascript
if (t1 >= 90) {
  me.warningHotTemp = true;
  me.warningVeryHotTemp = true;
}
```

{% hint style="info" %}
Я рекомендую использовать фигурные скобки `{}` всегда, когда вы используете инструкцию `if`, даже если выполняется только одна команда. Это улучшает читаемость кода.

К слову про фигурные скобки актуально и для функций, и для циклов.
{% endhint %}

## Преобразование к логическому типу

Инструкция `if (…)` вычисляет выражение в скобках и преобразует результат к логическому типу.

* Число `0`, пустая строка `""` становятся `false`. Из-за этого их называют «ложными» («false») значениями.
* Остальные значения становятся `true`, поэтому их называют «правдивыми» («true»).

Таким образом, код при таком условии никогда не выполнится:

```javascript
if (0) { // 0 is false
  ...
}
```

…а при таком – выполнится всегда:

```javascript
if (1) { // 1 is true
  ...
}
```

Мы также можем сначала проверить условие на правдивость и записать результат в переменную, и потом уже заранее вычисленное в переменной логическое значение вставить в `if`, например так:

```javascript
let condition = (year == 2015); // преобразуется к true или false

if (condition) {
  ...
}
```

## Блок «else»

Инструкция `if` может содержать необязательный блок «else» («иначе»). Он выполняется, когда условие ложно.

Например:

```javascript
if (t1 >= 90)
  me.warningHotTemp = true;
} else {
  me.warningHotTemp = false;
}
```

## Несколько условий: "else if"

Иногда нужно проверить несколько вариантов условия. Для этого используется блок `else if`.

Например:

```javascript
if (t1 >= 90)
  me.warningHotTemp = true;
} else if (t1 >= 45) {
  me.warningMediumTemp = true;
} else {
  me.warningHotTemp = false;
  me.warningMediumTemp = false;
}
```

В приведённом выше коде JavaScript сначала проверит `t1 >= 90`. Если это неверно, он переходит к следующему условию `t1 >= 45`. Если оно тоже ложно, тогда сработает последний блок который отключает все предупреждения.

Блоков `else if` может быть и больше. Присутствие блока `else` не является обязательным.

## Условный оператор: "?"

Иногда нам нужно определить переменную в зависимости от условия.

Например:

```javascript
else if (t1 >= 90) {
  me.warningHotTemp = true;
} else {
  me.warningHotTemp = false;
}
```

Так называемый «условный» оператор «вопросительный знак» позволяет нам сделать это более коротким и простым способом.

Оператор представлен знаком вопроса `?`. Его также называют «тернарный», так как этот оператор, единственный в своём роде, имеет три аргумента.

Синтаксис:

```javascript
let result = условие ? значение1 : значение2;
```

Сначала вычисляется `условие`: если оно истинно, тогда возвращается `значение1`, в противном случае – `значение2`.

Например:

```javascript
me.warningHotTemp = (t1 >= 90) ? true : false;
```

Технически, мы можем опустить круглые скобки вокруг `age > 18`. Оператор вопросительного знака имеет низкий приоритет, поэтому он выполняется после сравнения `>`.

Этот пример будет делать то же самое, что и предыдущий:

```javascript
// оператор сравнения "t1 >= 90" выполняется первым в любом случае
// (нет необходимости заключать его в скобки)
me.warningHotTemp = t1 >= 90 ? true : false;
```

Но скобки делают код более простым для восприятия, поэтому я рекомендую их использовать.

{% hint style="info" %}
В примере выше вы можете избежать использования оператора вопросительного знака `"?"`, т.к. сравнение само по себе уже возвращает `true/false`:

```javascript
// то же самое
me.warningHotTemp = t1 >= 90;
```
{% endhint %}

{% hint style="warning" %}
Смысл оператора «вопросительный знак» `"?"` – вернуть то или иное значение, в зависимости от условия. Пожалуйста, используйте его именно для этого. Когда вам нужно выполнить разные ветви кода – используйте `if`.

Не будьте как некоторые индивидуумы которые начинают везде вместо if использовать `"?"`.
{% endhint %}

## Несколько операторов: "?"

Последовательность операторов вопросительного знака `?` позволяет вернуть значение, которое зависит от более чем одного условия.

Например:

```javascript
me.warningTemp = (t1 >= 90) ? 3 :
  (t1 >= 60) ? 2 :
  (t1 >= 30) ? 1 :
  0;
```

Поначалу может быть сложно понять, что происходит. Но при ближайшем рассмотрении мы видим, что это обычная последовательная проверка:

1. Первый знак вопроса проверяет `t1 >= 90`.
2. Если верно – возвращает `3`. В противном случае, проверяет выражение после двоеточия `:`, вычисляет `t1 >= 60`.
3. Если это верно – возвращает `2`. В противном случае, проверяет выражение после следующего двоеточия `":"`, вычисляет `t1 >= 30`.
4. Если это верно – возвращает `1`. В противном случае, возвращает выражение после последнего двоеточия – `0`.

{% hint style="info" %}
В данном примере цифра обозначает цвет индикатора температуры (Shape с настроенным State Formatter) в Mashup'е Thingworx.\
3 - красный, 2 - оранжевый, 1 - жёлтый, 0 - зелёный.
{% endhint %}

Вот как это выглядит при использовании `if..else`:

```javascript
if (t1 >= 90) {
  me.warningTemp = 3;
} else if (t1 >= 60) {
  me.warningTemp = 2;
} else if (t1 >= 30) {
  me.warningTemp = 1;
} else {
  me.warningTemp = 0;
}
```
