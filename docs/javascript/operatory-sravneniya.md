---
cover: broken-reference
coverY: 19
---

# Операторы Сравнения

## Операторы сравнения

Многие операторы сравнения известны нам из математики.

В JavaScript они записываются так:

* Больше/меньше: `a > b`, `a < b`.
* Больше/меньше или равно: `a >= b`, `a <= b`.
* Равно: `a == b`. \
  Обратите внимание, для сравнения используется двойной знак равенства `==`. \
  Один знак равенства `a = b` означал бы присваивание.
* Не равно: `a != b`\
  В математике обозначается символом `≠`, но в JavaScript записывается как `a != b`.

В этом разделе мы больше узнаем про то, какие бывают сравнения, как язык с ними работает и к каким неожиданностям мы должны быть готовы.

В конце вы найдёте хороший рецепт того, как избегать «причуд» сравнения в JavaScript.

## Результат сравнения имеет логический тип

Все операторы сравнения возвращают значение логического типа:

* `true` – означает «да», «верно», «истина».
* `false` – означает «нет», «неверно», «ложь».

Например:

```javascript
me.boolCheck = (2 > 1);  // true (верно)
me.boolCheck = (2 == 1); // false (неверно)
me.boolCheck = (2 != 1); // true (верно)
```

Результат сравнения можно присвоить переменной/Property, как и любое значение:

```javascript
me.boolCheck = (5 > 4); // результат сравнения присваивается переменной result
alert( result ); // true
```

## Сравнение строк

Чтобы определить, что одна строка больше другой, JavaScript использует «алфавитный» или «лексикографический» порядок.

Другими словами, строки сравниваются посимвольно.

Например:

```javascript
me.boolCheck = ( 'Я' > 'А' ); // true
me.boolCheck = ( 'Коты' > 'Кода' ); // true
me.boolCheck = ( 'Сонный' > 'Сон' ); // true
```

Алгоритм сравнения двух строк довольно прост:

1. Сначала сравниваются первые символы строк.
2. Если первый символ первой строки больше (меньше), чем первый символ второй, то первая строка больше (меньше) второй. Сравнение завершено.
3. Если первые символы равны, то таким же образом сравниваются уже вторые символы строк.
4. Сравнение продолжается, пока не закончится одна из строк.
5. Если обе строки заканчиваются одновременно, то они равны. Иначе, большей считается более длинная строка.

В примерах выше сравнение `'Я' > 'А'` завершится на первом шаге, тогда как строки `'Коты'` и `'Кода'` будут сравниваться посимвольно:

1. `К` равна `К`.
2. `о` равна `о`.
3. `т` больше, чем `д`. На этом сравнение заканчивается. Первая строка больше.

{% hint style="info" %}
**Используется кодировка Unicode, а не настоящий алфавит**

Приведённый выше алгоритм сравнения похож на алгоритм, используемый в словарях и телефонных книгах, но между ними есть и различия.

Например, в JavaScript имеет значение регистр символов. Заглавная буква `"A"` не равна строчной `"a"`. Какая же из них больше? Строчная `"a"`. Почему? Потому что строчные буквы имеют больший код во внутренней таблице кодирования, которую использует JavaScript (Unicode).
{% endhint %}

## Сравнение разных типов

При сравнении значений разных типов JavaScript приводит каждое из них к числу.

Например:

```javascript
me.boolCheck = ( '2' > 1 ); // true, строка '2' становится числом 2
me.boolCheck = ( '01' == 1 ); // true, строка '01' становится числом 1
```

Логическое значение `true` становится `1`, а `false` – `0`.

Например:

```javascript
me.boolCheck = ( true == 1 ); // true
me.boolCheck = ( false == 0 ); // true
```

{% hint style="info" %}
**Забавное следствие**

Возможна следующая ситуация:

* Два значения равны.
* Одно из них `true` как логическое значение, другое – `false`.

Например:

{% code lineNumbers="true" %}
```javascript
me.a = 0;
me.boolCheck = ( Boolean(a) ); // false

me.b = "0";
me.boolCheck = ( Boolean(b) ); // true

me.boolCheck = (a == b); // true!
```
{% endcode %}

С точки зрения JavaScript, результат ожидаем. Равенство преобразует значения, используя числовое преобразование, поэтому `"0"` становится `0`. В то время как явное преобразование с помощью `Boolean` использует другой набор правил.
{% endhint %}

## Строгое сравнение

Использование обычного сравнения `==` может вызывать проблемы. Например, оно не отличает `0` от `false`:

```javascript
me.boolCheck = ( 0 == false ); // true
```

Та же проблема с пустой строкой:

```javascript
me.boolCheck = ( '' == false ); // true
```

Это происходит из-за того, что операнды разных типов преобразуются оператором `==` к числу. В итоге, и пустая строка, и `false` становятся нулём.

Как же тогда отличать `0` от `false`?

**Оператор строгого равенства `===` проверяет равенство без приведения типов.**

Другими словами, если `a` и `b` имеют разные типы, то проверка `a === b` немедленно возвращает `false` без попытки их преобразования.

Давайте проверим:

```javascript
me.boolCheck = ( 0 === false ); // false, так как сравниваются разные типы
```

Ещё есть оператор строгого неравенства `!==`, аналогичный `!=`.

Оператор строгого равенства дольше писать, но он делает код более очевидным и оставляет меньше места для ошибок.
